{{- $ThemeVersion := "3.27.0" -}}
<footer class="site-footer">
    <section class="copyright">
        &copy; 
        {{ if and (.Site.Params.footer.since) (ne .Site.Params.footer.since (int (now.Format "2006"))) }}
            {{ .Site.Params.footer.since }} - 
        {{ end }}
        {{ now.Format "2006" }} {{ default .Site.Title .Site.Copyright }}
    </section>
    
    <section class="powerby">
        {{ with .Site.Params.footer.customText }}
            {{ . | safeHTML }} <br/>
        {{ end }}
    </section>

    <a href="https://dorianb.net/blog/index.xml" target="_blank" title="RSS feed" rel="me">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-rss" viewBox="0 0 16 16">
        <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
        <path d="M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1m0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1"/>
      </svg>
      RSS-feed
    </a>
</footer>

<!-- Stars CSS -->
<style>
    .star{display: block; background-color: #fff; position: absolute; border-radius: 100%; animation-timing-function: linear; animation-iteration-count: infinite;}

    @keyframes move_right {
       from { transform: rotate(0deg) translateX(8px) rotate(0deg); }
        to   { transform: rotate(360deg) translateX(8px) rotate(-360deg); }
    }

    @keyframes move_left {
       from { transform: rotate(0deg) translateX(8px) rotate(0deg); }
        to   { transform: rotate(-360deg) translateX(8px) rotate(360deg); }
    }
</style>

<!-- Stars code -->
<script>
    /**
     * Generates a random number between a given range (min and max).
     * @param {number} min - The minimum value for the random number.
     * @param {number} max - The maximum value for the random number.
     * @return {number} A random number between min and max (inclusive).
     */
    var randomNumber = function(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    };

    /**
     * Holds the number of stars to be created.
     */
    var numberOfStars = randomNumber(350, 650);

    /**
     * Creates stars with random positions, sizes, and animation directions.
     */
    var createStars = function() {
        /**
         * Holds the initial star rotation direction.
         */
        var starRotation = 'move_right;';

        var body = document.body,
            html = document.documentElement;

        var height = Math.max(body.scrollHeight, body.offsetHeight, 
                              html.clientHeight, html.scrollHeight, html.offsetHeight);

        // Loop through the number of stars to be created
        var stars = "";
        for (var i = 0; i < numberOfStars; i++) {
            // Switch the rotation direction for each star
            var rotation = (starRotation === 'move_right;' ? 'move_left;' : 'move_right;');

            // Generate random values for star's position, size, and animation duration
            var starTop = randomNumber(0, height);
            var starLeft = randomNumber(0, window.innerWidth);
            var starRadius = randomNumber(0, 4);
            var starDuration = randomNumber(6, 16);

            // Create a new star with the generated values and add it to the body of the document
            stars += "<div class='star' style='top: " + starTop + "px; left: " + starLeft + "px; width: " + starRadius + "px; height: " + starRadius + "px; " +
                "animation-name:" + rotation + "; animation-duration: " + starDuration + "s;z-index: -1;'></div>";
        }
        document.body.innerHTML += "<div id='stars'>" + stars + "</div>";
    };

    // Create stars
    // The timer is needed to let PhotoSwipe load itself
    setTimeout( function() { createStars(); }, 10);
</script>
